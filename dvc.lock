schema: '2.0'
stages:
  create_experiment:
    cmd: python src/create_experiment.py
    deps:
    - path: src/create_experiment.py
      hash: md5
      md5: 458593c07c2a233871445064b00825d6
      size: 381
    outs:
    - path: experiments/experiment.yaml
      hash: md5
      md5: 28795ce4b7a17b100518c4629dc4859b
      size: 60
  preprocess:
    cmd: python src/preprocess.py
    deps:
    - path: data/petImages
      hash: md5
      md5: 3a5cf86541f22c236620ce5b952ad684.dir
      size: 848866410
      nfiles: 24998
    - path: params.yaml
      hash: md5
      md5: 23d2c29b9877ee5939628a53ca7fe436
      size: 220
    - path: src/preprocess.py
      hash: md5
      md5: c77568e16ff6db45a1896c6c7afc8cd0
      size: 3044
    params:
      params.yaml:
        preprocess:
          input_dir: data/petImages
          output_dir: data/processed
          image_size: 224
          max_images: 2000
    outs:
    - path: data/processed
      hash: md5
      md5: 253aa1eeaa2c622393bcf6f44c736b53.dir
      size: 37714212
      nfiles: 4000
  train:
    cmd: python src/train.py
    deps:
    - path: data/processed
      hash: md5
      md5: 253aa1eeaa2c622393bcf6f44c736b53.dir
      size: 37714212
      nfiles: 4000
    - path: params.yaml
      hash: md5
      md5: 23d2c29b9877ee5939628a53ca7fe436
      size: 220
    - path: src/train.py
      hash: md5
      md5: e5b9dfc77ee76edf33b6b50be7f0830d
      size: 3492
    params:
      params.yaml:
        train:
          batch_size: 32
          epochs: 5
          learning_rate: 0.001
          image_size: 224
          validation_split: 0.2
    outs:
    - path: models/model.h5
      hash: md5
      md5: f8e2ccfcacfa498ae059bc0e1afdd3a1
      size: 2397976
  predict:
    cmd: python src/predict.py
    deps:
    - path: models/model.h5
      hash: md5
      md5: f8e2ccfcacfa498ae059bc0e1afdd3a1
      size: 2397976
    - path: params.yaml
      hash: md5
      md5: 23d2c29b9877ee5939628a53ca7fe436
      size: 220
    - path: src/predict.py
      hash: md5
      md5: d9701ab0473829a9244a8b5c6b266c56
      size: 4938
