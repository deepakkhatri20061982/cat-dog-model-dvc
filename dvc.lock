schema: '2.0'
stages:
  create_experiment:
    cmd: python src/create_experiment.py
    deps:
    - path: src/create_experiment.py
      hash: md5
      md5: 458593c07c2a233871445064b00825d6
      size: 381
    outs:
    - path: experiments/experiment.yaml
      hash: md5
      md5: 4a0b582ac59df375bffc5f3483205727
      size: 60
  preprocess:
    cmd: python src/preprocess.py
    deps:
    - path: data/petImages
      hash: md5
      md5: 6f3f81c7dd9712f1b35cb7521a42f1f8.dir
      size: 138665080
      nfiles: 4000
    - path: params.yaml
      hash: md5
      md5: 02c2557d74d57b1c202e22c1e6d3dc36
      size: 221
    - path: src/preprocess.py
      hash: md5
      md5: c77568e16ff6db45a1896c6c7afc8cd0
      size: 3044
    params:
      params.yaml:
        preprocess:
          input_dir: data/petImages
          output_dir: data/processed
          image_size: 224
          max_images: 2000
    outs:
    - path: data/processed
      hash: md5
      md5: 8a0113019100f07de29dee398812aa4e.dir
      size: 37676767
      nfiles: 4000
  train:
    cmd: python src/train.py
    deps:
    - path: data/processed
      hash: md5
      md5: 8a0113019100f07de29dee398812aa4e.dir
      size: 37676767
      nfiles: 4000
    - path: params.yaml
      hash: md5
      md5: 02c2557d74d57b1c202e22c1e6d3dc36
      size: 221
    - path: src/train.py
      hash: md5
      md5: e5b9dfc77ee76edf33b6b50be7f0830d
      size: 3492
    params:
      params.yaml:
        train:
          batch_size: 64
          epochs: 10
          learning_rate: 0.002
          image_size: 224
          validation_split: 0.2
    outs:
    - path: models/model.h5
      hash: md5
      md5: d1d9fe378ac876ec43f739d10c1ef57f
      size: 2397976
  predict:
    cmd: python src/predict.py
    deps:
    - path: models/model.h5
      hash: md5
      md5: d1d9fe378ac876ec43f739d10c1ef57f
      size: 2397976
    - path: params.yaml
      hash: md5
      md5: 02c2557d74d57b1c202e22c1e6d3dc36
      size: 221
    - path: src/predict.py
      hash: md5
      md5: d9701ab0473829a9244a8b5c6b266c56
      size: 4938
